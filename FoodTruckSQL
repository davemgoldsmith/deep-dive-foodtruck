CREATE TABLE Truck (
    PRIMARY KEY (truck_id),
    truck_id        INTEGER GENERATED BY DEFAULT AS IDENTITY,
    name            VARCHAR(100) NOT NULL CONSTRAINT truck_name-UQ UNIQUE,
    cuisine_type    VARCHAR(100),
    updated         TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Location (
    PRIMARY KEY (location_id),
    location_id     INTEGER GENERATED BY DEFAULT AS                        IDENTITY,
    business_name   VARCHAR(100) NOT NULL CONSTRAINT                      Location_name_UQ UNIQUE,
    address         VARCHAR(250) NOT NULL CONSTRAINT                      Location_address_UQ UNIQUE,
    truck_name        VARCHAR(100) NOT NULL CONSTRAINT                     Location_Truck_FK REFERENCES                         Truck,
    schedule_id     INTEGER Schedule_Location_FK                            REFERENCES Schedule        
);

CREATE TABLE Schedule
    PRIMARY KEY (schedule_id),
    schedule_id     INTEGER GENERATED BY DEFAULT AS                         IDENTITY,
    day_of_week     INTEGER,
    time_of_day     VARCHAR(100),
    location_id     INTEGER NOT NULL CONSTRAINT                             Schedule_Location_FK REFERENCES                       Location
);

INSERT INTO Truck
    (
        name,   
        cuisine_type,
        updated,
    );
VALUES
    (
        'Example Truck Name',
        'example food type'
        'NULL'
    ),
    (
        'Example2 Truck Name',
        'example2 food type'
        'NULL'
    ),
    (
        'Example3 Truck Name',
        'example3 food type'
        'NULL'
    );
    
INSERT INTO Location
    (
        business_name,
        location_name,
        address,
        truck_id,
        schedule_id 
    );
VALUES
    (
        'Location Business Name',
        'Location Name',
        '1155 Address St.',
        truck_id,
        schedule_id
    ),
    (
        'Location2 Business Name',
        'Location Name2',
        '1155 Address2 St.',
        truck_id,
        schedule_id    
    ),
    (
        'Location3 Business Name',
        'Location3 Name',
        '1155 Address3 St.',
        truck_id,
        schedule_id
    );
    
INSERT INTO Schedule
    (
        schedule_id,
        day_of_week,
        time_of_day,
        location_id             
    );
VALUES
    (
        schedule_id,
        'Monday,
        '12p - 8p',
        location_id
    ),
    (
        schedule_id,
        'Tuesday,
        '1p - 9p',
        location_id
    ),
    (
        schedule_id,
        'Tuesday,
        '1p - 9p',
        location_id
    );
SELECT
    t.truck_id,
    l.location_id,
    s.schedule_id
FROM
    Truck AS t,
    Location AS l,
    Schedule AS s
//WHERE
//    ??c.name in ('MySpace', 'AOL')
//    ??AND t.name = 'Social';
    
//SELECT
//    c.name,
//    c.user_name,
//    c.password
//FROM
//    Credential AS c
//    JOIN CredentialTag AS ct
//        ON ct.credential_id = c.credential_id
//    JOIN Tag AS t
//        ON t.tag_id = ct.tag_id
//WHERE
//    t.name = 'Social';
    
//SELECT
//    t.name,
//    count(*)
//FROM
//    Tag AS t
//    JOIN CredentialTag AS ct
//        ON t.tag_id = ct.tag_id
//GROUP BY  
//    t.name;